### 隐式转换导致索引失效的原因

索引是基于字段**原始值**构建的（如`INT`类型的`id`索引存储的是数值），而隐式转换会改变索引的 “可识别性”：

1. **函数作用于索引字段**  
    隐式转换本质上相当于在索引字段上应用了转换函数（如`CAST(id AS CHAR)`）。数据库无法直接使用索引定位经过函数处理的值，只能放弃索引，进行全表扫描。  
    例如：`WHERE id = '123'` 会被转换为 `WHERE CAST(id AS CHAR) = '123'`，此时`id`字段的索引无法生效。
    
2. **索引值与查询值的 “比较基准” 不一致**  
    若转换后的数据类型与索引存储类型的排序规则不同，索引的有序性被破坏。例如：
    
    - `VARCHAR`类型的字段`code`存储数值字符串（如`'1'`、`'10'`、`'2'`），其索引按字符串排序（`'1' < '10' < '2'`）；
    - 若查询条件为`WHERE code = 10`（传入数字），隐式转换后相当于按数值规则比较，与索引的字符串排序规则冲突，索引无法使用。