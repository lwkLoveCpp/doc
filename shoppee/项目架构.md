这里分成具体服务实现，注册服务，服务调用，proto,参数配置部分
#### 具体服务实现
最外层接口是default_service.go,里面serviceImpl封装了具体实现，使用rpc加载服务。

```go
server := rpc.NewServer()
pb.RegisterDefaultService(server, &serviceImpl{})
```
#### 服务注册与服务发现
服务注册使用sps，但服务注册代码可以自动生成。在*_spex.go文件里包含往sps里添加服务和提供客户端调用服务的代码。
1）
```go
RegisterDefaultService(svr server.Service, svc DefaultService)
```
这段代码将具体实现的服务serviceImpl与default_service（纯接口）绑定。
初始化一个server.ServiceDesc，里面需要包含要注册的服务，并往sps注里添加服务。
2）

```go
DefaultClientProxy
```
该接口里面封装了给客户端调用的服务代码。
#### 参数配置
在配置中心配置参数后，会给出具体的连接配置中心的代码
![[截屏2025-07-09 17.50.46.png]]
这部分代码被封装在框架的如下代码中。
可以看到GroupName,ProjetName,namespace对应的是什么。方便我们修改yaml文件。也能看到namespace若是在yaml文件中没有设置的情况下，会使用module+env+region拼接。
![[截屏2025-07-09 17.57.34.png]]